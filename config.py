import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞
load_dotenv()

# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
BOT_TOKEN = os.getenv('BOT_TOKEN')
ADMIN_GROUP_ID = os.getenv('ADMIN_GROUP_ID')

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º ID –≥—Ä—É–ø–ø—ã –¥–ª—è Telegram
if ADMIN_GROUP_ID:
    # –£–±–∏—Ä–∞–µ–º –≤—Å–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã
    clean_id = ADMIN_GROUP_ID.lstrip('-').lstrip('100')
    
    print(f"üîç –ò—Å—Ö–æ–¥–Ω—ã–π ID: {ADMIN_GROUP_ID}")
    print(f"üîç –û—á–∏—â–µ–Ω–Ω—ã–π ID: {clean_id}")
    
    # –î–ª—è –≤–∞—à–µ–π –≥—Ä—É–ø–ø—ã (ID: 4899803808) - —ç—Ç–æ —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞
    # –í—Å–µ —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø—ã –≤ Telegram –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å -100
    if len(clean_id) >= 10:  # –õ—é–±–∞—è –≥—Ä—É–ø–ø–∞ —Å 10+ —Ü–∏—Ñ—Ä–∞–º–∏ - —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞
        ADMIN_GROUP_ID = f"-100{clean_id}"
    else:
        # –û–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞ (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
        ADMIN_GROUP_ID = f"-{clean_id}"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
if not BOT_TOKEN:
    raise ValueError("BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ env.example")

if not ADMIN_GROUP_ID:
    raise ValueError("ADMIN_GROUP_ID –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ env.example")

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')

# –í—ã–≤–æ–¥–∏–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π ID –≥—Ä—É–ø–ø—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
print(f"üîß –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ADMIN_GROUP_ID: {ADMIN_GROUP_ID}")
